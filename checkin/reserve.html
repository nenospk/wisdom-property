<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Wisdom Smart Office | Soft Opening Event 11.09.2020</title>
		<meta
			name="title"
			content="Wisdom Smart Office | Soft Opening Event 11.09.2020"
		/>
		<meta
			name="description"
			content="The Wisdom Smart Office โครงการ Smart home office แห่งแรกในเมืองระยองตอบโจทย์ทุกความต้องการทำเลทองแห่งอนาคตมาพร้อมนวัตกรรมอำนวยความสะดวกเพื่อยกระดับชีวิตของคุณ โครงการคุณภาพโดย 888 Wisdom Property"
		/>
		<link rel="canonical" href="https://wisdomprop.com/" />

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://wisdomprop.com/" />
		<meta
			property="og:title"
			content="Wisdom Smart Office | Soft Opening Event 11.09.2020"
		/>
		<meta
			property="og:description"
			content="The Wisdom Smart Office โครงการ Smart home office แห่งแรกในเมืองระยองตอบโจทย์ทุกความต้องการทำเลทองแห่งอนาคตมาพร้อมนวัตกรรมอำนวยความสะดวกเพื่อยกระดับชีวิตของคุณ โครงการคุณภาพโดย 888 Wisdom Property"
		/>
		<meta
			property="og:image"
			content="https://wisdomprop.com/img/logo_social_thumbnail.png"
		/>

		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content="https://wisdomprop.com/" />
		<meta
			property="twitter:title"
			content="Wisdom Smart Office | Soft Opening Event 11.09.2020"
		/>
		<meta
			property="twitter:description"
			content="The Wisdom Smart Office โครงการ Smart home office แห่งแรกในเมืองระยองตอบโจทย์ทุกความต้องการทำเลทองแห่งอนาคตมาพร้อมนวัตกรรมอำนวยความสะดวกเพื่อยกระดับชีวิตของคุณ โครงการคุณภาพโดย 888 Wisdom Property"
		/>
		<meta
			property="twitter:image"
			content="https://wisdomprop.com/img/logo_social_thumbnail.png"
		/>

		<meta property="og:locale" content="th_TH" />
		<meta
			name="keywords"
			content="wisdom smart office, the wisdom smart office, 888 wisdom property, mini office home, smart home, smart office, rayong"
		/>
		<meta name="robots" content="index, follow" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link
			rel="icon"
			href="../img/favicon.ico"
			type="image/x-icon"
			sizes="16x16"
		/>
		<link
			rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
		/>
		<link rel="stylesheet" type="text/css" href="../css/style.css" />
		<link rel="stylesheet" type="text/css" href="../css/animate.css" />
		<link rel="stylesheet" type="text/css" href="../css/lightgallery.css" />
		<link rel="stylesheet" href="../css/paver.css" />

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

		<script src="../js/app.js"></script>
		<script src="../js/jquery.countdown.min.js"></script>

		<script type="application/ld+json">
			{
				"@context": "http://schema.org",
				"@type": "Organization",
				"name": "Wisdom Smart Office by 888 Wisdom Property",
				"url": "https://wisdomprop.com",
				"address": "65/10 ถนนสุขุมวิท ตำบลเนินพระ อำเภอ เมือง, ระยอง 21150",
				"contactPoint": {
					"@type": "ContactPoint",
					"telephone": "+66642397892",
					"contactType": "Customer service"
				},
				"sameAs": ["https://www.facebook.com/888wisdomproperty"]
			}
		</script>
	</head>
	<body>
		<div class="go-top">
			<a href="#home"><img src="../img/up-arrow.png" alt="arrow-up" /></a>
		</div>

		<div class="countdown-event-bg" align="center">
			<a id="home"></a>

			<div class="countdown-content">
				<div>
					<img
						src="../img/event/under-logo.png"
						style="
							max-width: 250px;
							width: 100%;
							margin: 0 auto;
							padding-bottom: 30px;
						"
					/>
				</div>
				<div>
					<img
						src="../img/event/soft-opening.png"
						style="
							max-width: 450px;
							width: 100%;
							margin: 0 auto;
							padding-bottom: 20px;
						"
					/>
				</div>

				<div id="timer"></div>
				<div id="all_reserve"></div>
				<div>At the price of 11.88 MB.</div>
				<div>1.1 MB. off normal price 12.99 MB.</div>

				<form
					method="post"
					autocomplete="off"
					id="signup-form-2"
					name="signup-form-2"
				>
					<div class="unit-container">
						<div class="unit-selector">
							<div class="unit-each">
								<input type="checkbox" name="unit" id="unit_1" value="unit_1" />
								<label for="unit_1"
									><img src="../img/countdown/layoutperunit-01.png" />
								</label>
								<span id="unit_1">loading...</span>
							</div>
							<div class="unit-each">
								<input type="checkbox" name="unit" id="unit_2" value="unit_2" />
								<label for="unit_2"
									><img src="../img/countdown/layoutperunit-02.png" /> </label
								><span id="unit_2">loading...</span>
							</div>
							<div class="unit-each">
								<input type="checkbox" name="unit" id="unit_3" value="unit_3" />
								<label for="unit_3"
									><img src="../img/countdown/layoutperunit-03.png" />
								</label>
								<span id="unit_3">loading...</span>
							</div>
							<div class="unit-each">
								<input type="checkbox" name="unit" id="unit_4" value="unit_4" />
								<label for="unit_4"
									><img src="../img/countdown/layoutperunit-04.png" />
								</label>
								<span id="unit_4">loading...</span>
							</div>
							<div class="unit-each">
								<input type="checkbox" name="unit" id="unit_5" value="unit_5" />
								<label for="unit_5"
									><img src="../img/countdown/layoutperunit-05.png" />
								</label>
								<span id="unit_5">loading...</span>
							</div>
							<div class="unit-each">
								<input type="checkbox" name="unit" id="unit_6" value="unit_6" />
								<label for="unit_6"
									><img src="../img/countdown/layoutperunit-06.png" />
								</label>
								<span id="unit_6">loading...</span>
							</div>
							<div class="unit-each">
								<input type="checkbox" name="unit" id="unit_7" value="unit_7" />
								<label for="unit_7"
									><img src="../img/countdown/layoutperunit-07.png" />
								</label>
								<span id="unit_7">loading...</span>
							</div>
							<div class="unit-each">
								<input type="checkbox" name="unit" id="unit_8" value="unit_8" />
								<label for="unit_8"
									><img src="../img/countdown/layoutperunit-08.png" />
								</label>
								<span id="unit_8">loading...</span>
							</div>
							<div class="unit-each">
								<input type="checkbox" name="unit" id="unit_9" value="unit_9" />
								<label for="unit_9"
									><img src="../img/countdown/layoutperunit-09.png" />
								</label>
								<span id="unit_9">loading...</span>
							</div>
							<div class="unit-each">
								<input
									type="checkbox"
									name="unit"
									id="unit_10"
									value="unit_10"
								/>
								<label for="unit_10"
									><img src="../img/countdown/layoutperunit-10.png" />
								</label>
								<span id="unit_10">loading...</span>
							</div>
							<div class="unit-each">
								<input
									type="checkbox"
									name="unit"
									id="unit_11"
									value="unit_11"
								/>
								<label for="unit_11"
									><img src="../img/countdown/layoutperunit-11.png" />
								</label>
								<span id="unit_11">loading...</span>
							</div>
							<div class="unit-each">
								<input
									type="checkbox"
									name="unit"
									id="unit_12"
									value="unit_12"
								/>
								<label for="unit_12"
									><img src="../img/countdown/layoutperunit-12.png" />
								</label>
								<span id="unit_12">loading...</span>
							</div>
							<div class="unit-each">
								<input
									type="checkbox"
									name="unit"
									id="unit_13"
									value="unit_13"
								/>
								<label for="unit_13"
									><img src="../img/countdown/layoutperunit-13.png" />
								</label>
								<span id="unit_13">loading...</span>
							</div>
							<div class="unit-each">
								<input
									type="checkbox"
									name="unit"
									id="unit_14"
									value="unit_14"
								/>
								<label for="unit_14"
									><img src="../img/countdown/layoutperunit-14.png" />
								</label>
								<span id="unit_14">loading...</span>
							</div>
							<div class="unit-each">
								<input
									type="checkbox"
									name="unit"
									id="unit_15"
									value="unit_15"
								/>
								<label for="unit_15"
									><img src="../img/countdown/layoutperunit-15.png" />
								</label>
								<span id="unit_15">loading...</span>
							</div>
							<div class="unit-each">
								<input
									type="checkbox"
									name="unit"
									id="unit_16"
									value="unit_16"
								/>
								<label for="unit_16"
									><img src="../img/countdown/layoutperunit-16.png" />
								</label>
								<span id="unit_16">loading...</span>
							</div>
							<div class="unit-each">
								<input
									type="checkbox"
									name="unit"
									id="unit_17"
									value="unit_17"
								/>
								<label for="unit_17"
									><img src="../img/countdown/layoutperunit-17.png" />
								</label>
								<span id="unit_17">loading...</span>
							</div>
							<div class="unit-each">
								<input
									type="checkbox"
									name="unit"
									id="unit_18"
									value="unit_18"
								/>
								<label for="unit_18"
									><img src="../img/countdown/layoutperunit-18.png" />
								</label>
								<span id="unit_18">loading...</span>
							</div>
							<div class="unit-each">
								<input
									type="checkbox"
									name="unit"
									id="unit_19"
									value="unit_19"
								/>
								<label for="unit_19"
									><img src="../img/countdown/layoutperunit-19.png" />
								</label>
								<span id="unit_19">loading...</span>
							</div>
						</div>
					</div>
					<div class="slide-indicator" style="color: #fff; padding: 10px">
						<<< Swipe
					</div>
					<div class="container" style="padding-top: 25px">
						<div>
							<input
								type="text"
								name="Name"
								placeholder="ชื่อ นามสกุล"
								value=""
								required=""
							/>
						</div>
						<div>
							<input
								type="text"
								name="Email"
								placeholder="อีเมล"
								value=""
								required=""
							/>
						</div>
						<div>
							<input
								type="number"
								name="Phone"
								placeholder="เบอร์โทรศัพท์"
								value=""
								required=""
							/>
						</div>
						<input type="submit" name="submit" value="สนใจจอง" />
					</div>
				</form>
			</div>
		</div>

		<div class="footer">888 WISDOM PROPERTY</div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
		<script type="text/javascript" src="../js/jquery.paver.min.js"></script>

		<!-- The core Firebase JS SDK is always required and must be listed first -->
		<script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>

		<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
		<script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-analytics.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-database.js"></script>

		<script>
			// Your web app's Firebase configuration
			var firebaseConfig = {
				apiKey: "AIzaSyCuOKyZKQSMYM9vP930hbrnAehcJOcUgcY",
				authDomain: "wisdom-property.firebaseapp.com",
				databaseURL: "https://wisdom-property.firebaseio.com",
				projectId: "wisdom-property",
				storageBucket: "wisdom-property.appspot.com",
				messagingSenderId: "425784022109",
				appId: "1:425784022109:web:8809bf6947a744f963a9b4",
				measurementId: "G-P7E4K8SFB4",
			};
			// Initialize Firebase
			firebase.initializeApp(firebaseConfig);
			firebase.analytics();
		</script>

		<script type="text/javascript">
			var unit_reserve_status = {
				unit_1: 0,
				unit_2: 0,
				unit_3: 0,
				unit_4: 0,
				unit_5: 0,
				unit_6: 0,
				unit_7: 0,
				unit_8: 0,
				unit_9: 0,
				unit_10: 0,
				unit_11: 0,
				unit_12: 0,
				unit_13: 0,
				unit_14: 0,
				unit_15: 0,
				unit_16: 0,
				unit_16: 0,
				unit_17: 0,
				unit_18: 0,
				unit_19: 0,
			};
			var unit_reserve_all = 0;
			var unit_interest_status = {
				unit_1: 0,
				unit_2: 0,
				unit_3: 0,
				unit_4: 0,
				unit_5: 0,
				unit_6: 0,
				unit_7: 0,
				unit_8: 0,
				unit_9: 0,
				unit_10: 0,
				unit_11: 0,
				unit_12: 0,
				unit_13: 0,
				unit_14: 0,
				unit_15: 0,
				unit_16: 0,
				unit_16: 0,
				unit_17: 0,
				unit_18: 0,
				unit_19: 0,
			};
			var unit_interest_all = 0;

			function addInterestData(name, email, phone, interest) {
				var dateString = new Date().toLocaleString("en-US", {
					timeZone: "Asia/Bangkok",
				});
				var fbTime = firebase.database.ServerValue.TIMESTAMP;
				firebase
					.database()
					.ref("interest/" + phone)
					.set(
						{
							name: name,
							phone: phone,
							email: email,
							interest: interest,
							timestamp: dateString,
							fbTime: fbTime,
						},
						function (error) {
							if (error) {
								// The write failed...
							} else {
								// Data saved successfully!
								alert("การลงทะเบียนความสนใจสำเร็จ");
								location.reload();
							}
						}
					);
			}

			function addReserveData(name, email, phone, reserve) {
				var dateString = new Date().toLocaleString("en-US", {
					timeZone: "Asia/Bangkok",
				});
				var fbTime = firebase.database.ServerValue.TIMESTAMP;
				firebase
					.database()
					.ref("reserve/" + phone)
					.set(
						{
							name: name,
							phone: phone,
							email: email,
							reserve: reserve,
							timestamp: dateString,
							fbTime: fbTime,
						},
						function (error) {
							if (error) {
								// The write failed...
							} else {
								// Data saved successfully!
								alert("การลงทะเบียนการจองสำเร็จ");
							}
						}
					);
			}

			var ref_interest = firebase.database().ref("interest/");
			ref_interest.on(
				"value",
				function (snapshot) {
					//console.log(snapshot.val());
					unit_interest_status = {
						unit_1: 0,
						unit_2: 0,
						unit_3: 0,
						unit_4: 0,
						unit_5: 0,
						unit_6: 0,
						unit_7: 0,
						unit_8: 0,
						unit_9: 0,
						unit_10: 0,
						unit_11: 0,
						unit_12: 0,
						unit_13: 0,
						unit_14: 0,
						unit_15: 0,
						unit_16: 0,
						unit_16: 0,
						unit_17: 0,
						unit_18: 0,
						unit_19: 0,
					};
					unit_interest_all = 0;
					snapshot.forEach((child) => {
						//console.log(child.key, child.val());
						var interest_unit = child.val().interest;
						interest_unit.forEach(function (unit) {
							unit_interest_status[unit] += 1;
							unit_interest_all += 1;
							//console.log(unit);
						});
						//unit_interest_status[interest_unit] += 1;
						//unit_interest_all += 1;
					});

					console.log("All Interest", unit_interest_all);
					console.log(unit_interest_status);
					for (const property in unit_interest_status) {
						//console.log(`${property}: ${unit_interest_status[property]}`);
						//console.log(selector);
						var selector = "span#" + property;
						$(selector).html(unit_interest_status[property] + " คนสนใจ");
					}
				},
				function (error) {
					console.log("Error: " + error.code);
				}
			);

			var ref_reserve = firebase.database().ref("reserve/");
			ref_reserve.on(
				"value",
				function (snapshot) {
					//console.log(snapshot.val());
					unit_reserve_status = {
						unit_1: 0,
						unit_2: 0,
						unit_3: 0,
						unit_4: 0,
						unit_5: 0,
						unit_6: 0,
						unit_7: 0,
						unit_8: 0,
						unit_9: 0,
						unit_10: 0,
						unit_11: 0,
						unit_12: 0,
						unit_13: 0,
						unit_14: 0,
						unit_15: 0,
						unit_16: 0,
						unit_16: 0,
						unit_17: 0,
						unit_18: 0,
						unit_19: 0,
					};
					unit_reserve_all = 0;

					$(".unit-each").removeClass("reserved");
					$("input[type=checkbox]").attr("disabled", false);

					snapshot.forEach((child) => {
						//console.log(child.key, child.val());
						var reserve_unit = child.val().reserve;
						reserve_unit.forEach(function (unit) {
							unit_reserve_status[unit] += 1;
							//console.log(unit);
							var selector_1 = ".unit-each #" + unit;
							$(selector_1).parent().addClass("reserved");
							var selector_2 = "input#" + unit;
							$(selector_2).attr("disabled", true);
						});
						//unit_reserve_status[reserve_unit] = 1;
					});

					for (const property in unit_interest_status) {
						//console.log(`${property}: ${unit_reserve_status[property]}`);
						if (unit_reserve_status[property] > 0) unit_reserve_all += 1;
						//console.log(unit_reserve_all);
						//unit_reserve_all += unit_reserve_status[property];
					}

					console.log("All Reserve", unit_reserve_all);
					console.log(unit_reserve_status);
					var unit_left = 10 - unit_reserve_all;
					$("#all_reserve").html(
						"<div class='unit-left-count'>" +
							unit_left +
							"</div> units remaining"
					);
				},
				function (error) {
					console.log("Error: " + error.code);
				}
			);

			/*
							firebase
								.database()
								.ref("interest/")
								.orderByChild("interest")
								.equalTo("unit-0")
								.on("child_added", function (data) {
									console.log("Equal to filter: " + data.val().name);
								});
								*/
			/*addInterestData(
								"nenq",
								"suppakit.neno@gmail.com",
								"0945597195",
								"unit_3"
							);
							*/
			//addReserveData("nene", "suppakit.neno@gmail.com", "0945597193", "unit_8");

			//const scriptURL =
			("https://script.google.com/macros/s/AKfycbykam4L_0jXuBG9sg7gicrPDtoFSlQgsE_vGFG7mN9hKoGvT4hY/exec");

			const form2 = document.forms["signup-form-2"];

			form2.addEventListener("submit", (e) => {
				e.preventDefault();
				/*
								$(".form-msg-2").html("กำลังลงทะเบียน...");
								var myForm = new FormData(form2);
								//console.log(myForm);
								myForm.append("Timestamp", new Date().toLocaleString());
								$("#signup-form-2").toggle();
								fetch(scriptURL, { method: "POST", body: myForm })
									.then((response) => {
										//console.log(response);
										$(".form-msg-2").html(
											"ขอบคุณสำหรับการลงทะเบียนค่ะ <br>เราจะติดต่อท่านกลับเร็วๆนี้ค่ะ!"
										);
										//$("#signup-form").toggle();
										//alert("ขอบคุณสำหรับกรลงทะเบียนค่ะ เราจะติดต่อท่านกลับเร็วๆนี้!");
									})
									.catch((error) => console.error("Error!", error.message));
									*/

				var name = $("input[name=Name]").val();
				var email = $("input[name=Email]").val();
				var phone = $("input[name=Phone]").val();
				//var selected_unit = $("input[name=unit]").val();
				if (!$("input[name=unit]:checked").val()) {
					alert("กรุณาเลือก Unit ที่สนใจ");
				} else {
					var selected_unit = $(":checkbox:checked")
						.map(function () {
							return $(this).val();
						})
						.get();
					addInterestData(name, email, phone, selected_unit);
				}
				//console.log(selected_unit);
			});

			$("#timer").countdown("2020/09/11 21:00:00", function (event) {
				$(this).html(event.strftime("%H:%M:%S <br> time remaining"));
				//$(this).html(event.strftime("%-d day %H:%M:%S <br> time remaining"));
			});
		</script>
	</body>
</html>
